# Use the official Microsoft .NET SDK image to build the application
FROM mcr.microsoft.com/dotnet/framework/sdk:4.8 AS build-env
WORKDIR /app

# Copy csproj and necessary configs or other source files
COPY . ./

# Restore NuGet packages
RUN nuget restore

# Build the project
RUN msbuild /p:Configuration=Release /p:OutputPath=./out YourServiceProject.csproj

# # Optional: Publish the project
# # This step depends on whether you need a deployment package or just to compile the binaries
# RUN msbuild /p:DeployOnBuild=true /p:PublishProfile=FolderProfile.pubxml /p:OutputPath=./publish

# Use a runtime image, if you need to run the service in a container
# For example, if it's a web service:
# FROM mcr.microsoft.com/dotnet/framework/aspnet:4.8 AS runtime
# WORKDIR /inetpub/wwwroot
# COPY --from=build-env /app/publish .
